- name: Initialize an empty dictionary for combined_data
  set_fact:
    combined_data: {}

- name: Merge last_sync_response, last_heartbeat, and last_password_set
  set_fact:
    combined_data: >-
      {{
        combined_data | combine({
          item: {
            'last_sync_response': last_sync_response.get(item, ""),
            'last_heartbeat': last_heartbeat.get(item, ""),
            'last_password_set': last_password_set.get(item, "")
          }
        })
      }}
  loop: "{{ (last_sync_response.keys() | list + last_heartbeat.keys() | list + last_password_set.keys() | list) | unique }}"
  loop_control:
    label: "{{ item }}"
  no_log: true

- name: Display the final combined dictionary
  debug:
    var: combined_data
