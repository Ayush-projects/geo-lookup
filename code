flowchart TD
    style A fill:#e0f7fa,stroke:#00838f,stroke-width:2px
    style B fill:#e3f2fd,stroke:#1565c0,stroke-width:2px
    style C fill:#e3f2fd,stroke:#1565c0,stroke-width:2px
    style D fill:#ffecb3,stroke:#ff6f00,stroke-width:2px
    style E fill:#fff9c4,stroke:#f57f17,stroke-width:2px
    style F fill:#fff9c4,stroke:#f57f17,stroke-width:2px
    style G fill:#f1f8e9,stroke:#558b2f,stroke-width:2px
    style H fill:#ffebee,stroke:#c62828,stroke-width:2px
    style I fill:#f3e5f5,stroke:#6a1b9a,stroke-width:2px
    style J fill:#ede7f6,stroke:#4527a0,stroke-width:2px
    style K fill:#f1f8e9,stroke:#558b2f,stroke-width:2px
    style L fill:#ffebee,stroke:#c62828,stroke-width:2px
    style M fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    style Z fill:#fafafa,stroke:#9e9e9e,stroke-width:2px

    subgraph Workflow
        A([Start Commit Process]) --> B([Pre-Commit Hook Triggered])

        B --> C([Capture Git Diff])
        C --> D{Perform Security Scan}
        
        subgraph "Security Scan"
            D --> E([Regex-based Secret Detection])
            D --> F([TruffleHog Scan])
        end
        
        E --> G{Secrets Found?}
        F --> G

        G -- Yes --> H([Stop Commit and Display Error Message])
        G -- No --> I([Invoke LLM Code Review])

        subgraph "LLM Code Review"
            I --> J([Send Code to LLM GitHub Copilot])
            J --> K{LLM Review Result}
        end

        K -- Issues Found --> L([Stop Commit and Display Issues])
        K -- No Issues --> M([Allow Commit to Proceed])

        H --> Z([End Process])
        L --> Z
        M --> Z
    end
